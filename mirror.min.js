!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).umirror={})}(this,(function(t){"use strict";function e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var n={exports:{}};!function(t){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports}(n);var i=e(n.exports),r={exports:{}},o={exports:{}},s={exports:{}};!function(t){function e(n){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(s);var a={exports:{}};!function(t){var e=s.exports.default;t.exports=function(t,n){if("object"!=e(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,n||"default");if("object"!=e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)},t.exports.__esModule=!0,t.exports.default=t.exports}(a),function(t){var e=s.exports.default,n=a.exports;t.exports=function(t){var i=n(t,"string");return"symbol"==e(i)?i:String(i)},t.exports.__esModule=!0,t.exports.default=t.exports}(o),function(t){var e=o.exports;function n(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,e(r.key),r)}}t.exports=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports}(r);var l=e(r.exports),c={exports:{}},u={exports:{}};!function(t){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports.default=t.exports}(u),function(t){var e=s.exports.default,n=u.exports;t.exports=function(t,i){if(i&&("object"===e(i)||"function"==typeof i))return i;if(void 0!==i)throw new TypeError("Derived constructors may only return object or undefined");return n(t)},t.exports.__esModule=!0,t.exports.default=t.exports}(c);var h=e(c.exports),d={exports:{}},p={exports:{}},f={exports:{}};!function(t){function e(n){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(f);var v=e(f.exports);!function(t){var e=f.exports;t.exports=function(t,n){for(;!Object.prototype.hasOwnProperty.call(t,n)&&null!==(t=e(t)););return t},t.exports.__esModule=!0,t.exports.default=t.exports}(p),function(t){var e=p.exports;function n(){return"undefined"!=typeof Reflect&&Reflect.get?(t.exports=n=Reflect.get.bind(),t.exports.__esModule=!0,t.exports.default=t.exports):(t.exports=n=function(t,n,i){var r=e(t,n);if(r){var o=Object.getOwnPropertyDescriptor(r,n);return o.get?o.get.call(arguments.length<3?t:i):o.value}},t.exports.__esModule=!0,t.exports.default=t.exports),n.apply(this,arguments)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(d);var g=e(d.exports),b={exports:{}},m={exports:{}};!function(t){function e(n,i){return t.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n,i)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(m),function(t){var e=m.exports;t.exports=function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&e(t,n)},t.exports.__esModule=!0,t.exports.default=t.exports}(b);var y=e(b.exports),x={exports:{}};!function(t){t.exports=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))},t.exports.__esModule=!0,t.exports.default=t.exports}(x);var w=e(x.exports);function _(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}"function"==typeof SuppressedError&&SuppressedError;var k="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};!function(){if("undefined"==typeof globalThis)if(void 0!==k)k.globalThis=k;else if("undefined"!=typeof self)self.globalThis=self;else if("undefined"!=typeof window)window.globalThis=window;else{const t=new Function("return this")();t.globalThis=t}}(),globalThis.trustedTypes||(globalThis.trustedTypes={createPolicy:(t,e)=>e});const S={configurable:!1,enumerable:!1,writable:!1};void 0===globalThis.HI&&Reflect.defineProperty(globalThis,"HI",Object.assign({value:Object.create(null)},S));const C=globalThis.HI;if(void 0===C.getById){const t=Object.create(null);Reflect.defineProperty(C,"getById",Object.assign({value(e,n){let i=t[e];return void 0===i&&(i=n?t[e]=n():null),i}},S))}void 0===C.error&&Object.assign(C,{warn(){},error:t=>new Error(`Error ${t}`),addMessages(){}}),Object.freeze([]);const M=function(){if("undefined"!=typeof globalThis)return globalThis;if(void 0!==k)return k;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;try{return new Function("return this")()}catch(t){return{}}}();if(void 0===M.trustedTypes&&(M.trustedTypes={createPolicy:(t,e)=>e}),void 0===M.HI&&Reflect.defineProperty(M,"HI",Object.assign({value:Object.create(null)},S)),void 0===C.getById){const t=Object.create(null);Reflect.defineProperty(C,"getById",Object.assign({value(e,n){let i=t[e];return void 0===i&&(i=n?t[e]=n():null),i}},S))}
/**
	 * dom
	 * @version 0.0.1
	 * @author by fico on 2022/05/05
	 * @Copyright © 2022 hi-kits. All rights reserved.
	 * @description
	 */const T=M.HI.getById(1,(()=>{const t=[],e=[];function n(){if(e.length)throw e.shift()}function i(t){try{t.call()}catch(t){e.push(t),setTimeout(n,0)}}function r(){let e=0;for(;e<t.length;)if(i(t[e]),e++,e>1024){for(let n=0,i=t.length-e;n<i;n++)t[n]=t[n+e];t.length-=e,e=0}t.length=0}return Object.freeze({enqueue:function(e){t.length<1&&M.requestAnimationFrame(r),t.push(e)},process:r})})),O=M.trustedTypes.createPolicy("hi-html",{createHTML:t=>t});let I=O;const A=`hi-${Math.random().toString(36).substring(2,8)}`,z=`${A}{`,L=`}${A}`,P=Object.freeze({supportsAdoptedStyleSheets:Array.isArray(document.adoptedStyleSheets)&&"replace"in CSSStyleSheet.prototype,setHTMLPolicy(t){if(I!==O)throw new Error("The HTML policy can only be set once.");I=t},createHTML:t=>I.createHTML(t),isMarker:t=>t&&8===t.nodeType&&t.data.startsWith(A),extractDirectiveIndexFromMarker:t=>parseInt(t.data.replace(`${A}:`,"")),createInterpolationPlaceholder:t=>`${z}${t}${L}`,createCustomAttributePlaceholder(t,e){return`${t}="${this.createInterpolationPlaceholder(e)}"`},createBlockPlaceholder:t=>`\x3c!--${A}:${t}--\x3e`,queueUpdate:T.enqueue,processUpdates:T.process,nextUpdate:()=>new Promise(T.enqueue),setAttribute(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)},setBooleanAttribute(t,e,n){n?t.setAttribute(e,""):t.removeAttribute(e)},removeChildNodes(t){for(let e=t.firstChild;null!==e;e=t.firstChild)t.removeChild(e)},createTemplateWalker:t=>document.createTreeWalker(t,133,null)});
/**
	 * @version 0.0.1
	 * @author by fico on 2022/05/05
	 * @Copyright © 2022 hi-kits. All rights reserved.
	 * @description
	 */
class B{constructor(t,e){this.sub1=void 0,this.sub2=void 0,this.spillover=void 0,this.source=t,this.sub1=e}has(t){return void 0===this.spillover?this.sub1===t||this.sub2===t:-1!==this.spillover.indexOf(t)}subscribe(t){const e=this.spillover;if(void 0===e){if(this.has(t))return;if(void 0===this.sub1)return void(this.sub1=t);if(void 0===this.sub2)return void(this.sub2=t);this.spillover=[this.sub1,this.sub2,t],this.sub1=void 0,this.sub2=void 0}else{-1===e.indexOf(t)&&e.push(t)}}unsubscribe(t){const e=this.spillover;if(void 0===e)this.sub1===t?this.sub1=void 0:this.sub2===t&&(this.sub2=void 0);else{const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}notify(t){const e=this.spillover,n=this.source;if(void 0===e){const e=this.sub1,i=this.sub2;void 0!==e&&e.handleChange(n,t),void 0!==i&&i.handleChange(n,t)}else for(let i=0,r=e.length;i<r;++i)e[i].handleChange(n,t)}}class E{constructor(t){this.subscribers={},this.sourceSubscribers=null,this.source=t}notify(t){var e;const n=this.subscribers[t];void 0!==n&&n.notify(t),null===(e=this.sourceSubscribers)||void 0===e||e.notify(t)}subscribe(t,e){var n;if(e){let n=this.subscribers[e];void 0===n&&(this.subscribers[e]=n=new B(this.source)),n.subscribe(t)}else this.sourceSubscribers=null!==(n=this.sourceSubscribers)&&void 0!==n?n:new B(this.source),this.sourceSubscribers.subscribe(t)}unsubscribe(t,e){var n;if(e){const n=this.subscribers[e];void 0!==n&&n.unsubscribe(t)}else null===(n=this.sourceSubscribers)||void 0===n||n.unsubscribe(t)}}
/**
	 * @version 0.0.1
	 * @author by fico on 2022/05/05
	 * @Copyright © 2022 hi-kits. All rights reserved.
	 * @description
	 */const j=C.getById(2,(()=>{const t=/(:|&&|\|\||if)/,e=new WeakMap,n=new WeakMap,i=P.queueUpdate;let r,o=t=>{throw new Error("Must call enableArrayObservation before observing arrays.")};function s(t){let n=t.$hiController||e.get(t);return void 0===n&&(Array.isArray(t)?n=o(t):e.set(t,n=new E(t))),n}function a(t){let e=n.get(t);if(void 0===e){let i=Reflect.getPrototypeOf(t);for(;void 0===e&&null!==i;)e=n.get(i),i=Reflect.getPrototypeOf(i);e=void 0===e?[]:e.slice(0),n.set(t,e)}return e}class l{constructor(t){this.name=t,this.field=`_${t}`,this.callback=`${t}Changed`}getValue(t){return void 0!==r&&r.watch(t,this.name),t[this.field]}setValue(t,e){const n=this.field,i=t[n];if(i!==e){t[n]=e;const r=t[this.callback];"function"==typeof r&&r.call(t,i,e),s(t).notify(this.name)}}}class c extends B{constructor(t,e,n=!1){super(t,e),this.binding=t,this.isVolatileBinding=n,this.needsRefresh=!0,this.needsQueue=!0,this.first=this,this.last=null,this.propertySource=void 0,this.propertyName=void 0,this.notifier=void 0,this.next=void 0}observe(t,e){this.needsRefresh&&null!==this.last&&this.disconnect();const n=r;r=this.needsRefresh?this:void 0,this.needsRefresh=this.isVolatileBinding;const i=this.binding(t,e);return r=n,i}disconnect(){if(null!==this.last){let t=this.first;for(;void 0!==t;)t.notifier.unsubscribe(this,t.propertyName),t=t.next;this.last=null,this.needsRefresh=this.needsQueue=!0}}watch(t,e){const n=this.last,i=s(t),o=null===n?this.first:{};if(o.propertySource=t,o.propertyName=e,o.notifier=i,i.subscribe(this,e),null!==n){if(!this.needsRefresh){let e;r=void 0,e=n.propertySource[n.propertyName],r=this,t===e&&(this.needsRefresh=!0)}n.next=o}this.last=o}handleChange(){this.needsQueue&&(this.needsQueue=!1,i(this))}call(){null!==this.last&&(this.needsQueue=!0,this.notify(this))}records(){let t=this.first;return{next:()=>{const e=t;return void 0===e?{value:void 0,done:!0}:(t=t.next,{value:e,done:!1})},[Symbol.iterator]:function(){return this}}}}return Object.freeze({setArrayObserverFactory(t){o=t},getNotifier:s,track(t,e){void 0!==r&&r.watch(t,e)},trackVolatile(){void 0!==r&&(r.needsRefresh=!0)},notify(t,e){s(t).notify(e)},defineProperty(t,e){"string"==typeof e&&(e=new l(e)),a(t).push(e),Reflect.defineProperty(t,e.name,{enumerable:!0,get:function(){return e.getValue(this)},set:function(t){e.setValue(this,t)}})},getAccessors:a,binding(t,e,n=this.isVolatileBinding(t)){return new c(t,e,n)},isVolatileBinding:e=>t.test(e.toString())})}));function F(t,e){j.defineProperty(t,e)}const N=C.getById(3,(()=>{let t=null;return{get:()=>t,set(e){t=e}}}));class W{constructor(){this.index=0,this.length=0,this.parent=null,this.parentContext=null}get event(){return N.get()}get isEven(){return this.index%2==0}get isOdd(){return this.index%2!=0}get isFirst(){return 0===this.index}get isInMiddle(){return!this.isFirst&&!this.isLast}get isLast(){return this.index===this.length-1}static setEvent(t){N.set(t)}}j.defineProperty(W.prototype,"index"),j.defineProperty(W.prototype,"length");const H=Object.seal(new W);
/**
	 * @version 0.0.1
	 * @author by fico on 2022/05/05
	 * @Copyright © 2022 hi-kits. All rights reserved.
	 * @description
	 */class R{constructor(){this.targetIndex=0}}class $ extends R{constructor(){super(...arguments),this.createPlaceholder=P.createInterpolationPlaceholder}}class U extends R{constructor(t,e,n){super(),this.name=t,this.behavior=e,this.options=n}createPlaceholder(t){return P.createCustomAttributePlaceholder(this.name,t)}createBehavior(t){return new this.behavior(t,this.options)}}
/**
	 * @version 0.0.1
	 * @author by fico on 2022/05/05
	 * @Copyright © 2022 hi-kits. All rights reserved.
	 * @description
	 */function V(t,e){this.source=t,this.context=e,null===this.bindingObserver&&(this.bindingObserver=j.binding(this.binding,this,this.isBindingVolatile)),this.updateTarget(this.bindingObserver.observe(t,e))}function D(t,e){this.source=t,this.context=e,this.target.addEventListener(this.targetName,this)}function Y(){this.bindingObserver.disconnect(),this.source=null,this.context=null}function X(){this.bindingObserver.disconnect(),this.source=null,this.context=null;const t=this.target.$hiView;void 0!==t&&t.isComposed&&(t.unbind(),t.needsBindOnly=!0)}function q(){this.target.removeEventListener(this.targetName,this),this.source=null,this.context=null}function G(t){P.setAttribute(this.target,this.targetName,t)}function J(t){P.setBooleanAttribute(this.target,this.targetName,t)}function Z(t){if(null==t&&(t=""),t.create){this.target.textContent="";let e=this.target.$hiView;void 0===e?e=t.create():this.target.$hiTemplate!==t&&(e.isComposed&&(e.remove(),e.unbind()),e=t.create()),e.isComposed?e.needsBindOnly&&(e.needsBindOnly=!1,e.bind(this.source,this.context)):(e.isComposed=!0,e.bind(this.source,this.context),e.insertBefore(this.target),this.target.$hiView=e,this.target.$hiTemplate=t)}else{const e=this.target.$hiView;void 0!==e&&e.isComposed&&(e.isComposed=!1,e.remove(),e.needsBindOnly?e.needsBindOnly=!1:e.unbind()),this.target.textContent=t}}function Q(t){this.target[this.targetName]=t}function K(t){const e=this.classVersions||Object.create(null),n=this.target;let i=this.version||0;if(null!=t&&t.length){const r=t.split(/\s+/);for(let t=0,o=r.length;t<o;++t){const o=r[t];""!==o&&(e[o]=i,n.classList.add(o))}}if(this.classVersions=e,this.version=i+1,0!==i){i-=1;for(const t in e)e[t]===i&&n.classList.remove(t)}}class tt extends ${constructor(t){super(),this.binding=t,this.bind=V,this.unbind=Y,this.updateTarget=G,this.isBindingVolatile=j.isVolatileBinding(this.binding)}get targetName(){return this.originalTargetName}set targetName(t){if(this.originalTargetName=t,void 0!==t)switch(t[0]){case":":if(this.cleanedTargetName=t.substr(1),this.updateTarget=Q,"innerHTML"===this.cleanedTargetName){const t=this.binding;this.binding=(e,n)=>P.createHTML(t(e,n))}break;case"?":this.cleanedTargetName=t.substr(1),this.updateTarget=J;break;case"@":this.cleanedTargetName=t.substr(1),this.bind=D,this.unbind=q;break;default:this.cleanedTargetName=t,"class"===t&&(this.updateTarget=K)}}targetAtContent(){this.updateTarget=Z,this.unbind=X}createBehavior(t){return new et(t,this.binding,this.isBindingVolatile,this.bind,this.unbind,this.updateTarget,this.cleanedTargetName)}}class et{constructor(t,e,n,i,r,o,s){this.source=null,this.context=null,this.bindingObserver=null,this.target=t,this.binding=e,this.isBindingVolatile=n,this.bind=i,this.unbind=r,this.updateTarget=o,this.targetName=s}handleChange(){this.updateTarget(this.bindingObserver.observe(this.source,this.context))}handleEvent(t){W.setEvent(t);const e=this.binding(this.source,this.context);W.setEvent(null),!0!==e&&t.preventDefault()}}
/**
	 * @version 0.0.1
	 * @author by fico on 2022/05/05
	 * @Copyright © 2022 hi-kits. All rights reserved.
	 * @description
	 */let nt=null;class it{addFactory(t){t.targetIndex=this.targetIndex,this.behaviorFactories.push(t)}captureContentBinding(t){t.targetAtContent(),this.addFactory(t)}reset(){this.behaviorFactories=[],this.targetIndex=-1}release(){nt=this}static borrow(t){const e=nt||new it;return e.directives=t,e.reset(),nt=null,e}}function rt(t){if(1===t.length)return t[0];let e;const n=t.length,i=t.map((t=>"string"==typeof t?()=>t:(e=t.targetName||e,t.binding))),r=new tt(((t,e)=>{let r="";for(let o=0;o<n;++o)r+=i[o](t,e);return r}));return r.targetName=e,r}const ot=L.length;function st(t,e){const n=e.split(z);if(1===n.length)return null;const i=[];for(let e=0,r=n.length;e<r;++e){const r=n[e],o=r.indexOf(L);let s;if(-1===o)s=r;else{const e=parseInt(r.substring(0,o));i.push(t.directives[e]),s=r.substring(o+ot)}""!==s&&i.push(s)}return i}function at(t,e,n=!1){const i=e.attributes;for(let r=0,o=i.length;r<o;++r){const s=i[r],a=s.value,l=st(t,a);let c=null;null===l?n&&(c=new tt((()=>a)),c.targetName=s.name):c=rt(l),null!==c&&(e.removeAttributeNode(s),r--,o--,t.addFactory(c))}}function lt(t,e,n){const i=st(t,e.textContent);if(null!==i){let r=e;for(let o=0,s=i.length;o<s;++o){const s=i[o],a=0===o?e:r.parentNode.insertBefore(document.createTextNode(""),r.nextSibling);"string"==typeof s?a.textContent=s:(a.textContent=" ",t.captureContentBinding(s)),r=a,t.targetIndex++,a!==e&&n.nextNode()}t.targetIndex--}}
/**
	 * @version 0.0.1
	 * @author by fico on 2022/05/05
	 * @Copyright © 2022 hi-kits. All rights reserved.
	 * @description
	 */
const ct=document.createRange();class ut{constructor(t,e){this.fragment=t,this.behaviors=e,this.source=null,this.context=null,this.firstChild=t.firstChild,this.lastChild=t.lastChild}appendTo(t){t.appendChild(this.fragment)}insertBefore(t){if(this.fragment.hasChildNodes())t.parentNode.insertBefore(this.fragment,t);else{const e=t.parentNode,n=this.lastChild;let i,r=this.firstChild;for(;r!==n;)i=r.nextSibling,e.insertBefore(r,t),r=i;e.insertBefore(n,t)}}remove(){const t=this.fragment,e=this.lastChild;let n,i=this.firstChild;for(;i!==e;)n=i.nextSibling,t.appendChild(i),i=n;t.appendChild(e)}dispose(){const t=this.firstChild.parentNode,e=this.lastChild;let n,i=this.firstChild;for(;i!==e;)n=i.nextSibling,t.removeChild(i),i=n;t.removeChild(e);const r=this.behaviors,o=this.source;for(let t=0,e=r.length;t<e;++t)r[t].unbind(o)}bind(t,e){const n=this.behaviors;if(this.source!==t)if(null!==this.source){const i=this.source;this.source=t,this.context=e;for(let r=0,o=n.length;r<o;++r){const o=n[r];o.unbind(i),o.bind(t,e)}}else{this.source=t,this.context=e;for(let i=0,r=n.length;i<r;++i)n[i].bind(t,e)}}unbind(){if(null===this.source)return;const t=this.behaviors,e=this.source;for(let n=0,i=t.length;n<i;++n)t[n].unbind(e);this.source=null}static disposeContiguousBatch(t){if(0!==t.length){ct.setStartBefore(t[0].firstChild),ct.setEndAfter(t[t.length-1].lastChild),ct.deleteContents();for(let e=0,n=t.length;e<n;++e){const n=t[e],i=n.behaviors,r=n.source;for(let t=0,e=i.length;t<e;++t)i[t].unbind(r)}}}}
/**
	 * @version 0.0.1
	 * @author by fico on 2022/05/05
	 * @Copyright © 2022 hi-kits. All rights reserved.
	 * @description
	 */class ht{constructor(t,e){this.behaviorCount=0,this.hasHostBehaviors=!1,this.fragment=null,this.targetOffset=0,this.viewBehaviorFactories=null,this.hostBehaviorFactories=null,this.html=t,this.directives=e}create(t){if(null===this.fragment){let t;const e=this.html;if("string"==typeof e){t=document.createElement("template"),t.innerHTML=P.createHTML(e);const n=t.content.firstElementChild;null!==n&&"TEMPLATE"===n.tagName&&(t=n)}else t=e;const n=function(t,e){const n=t.content;document.adoptNode(n);const i=it.borrow(e);at(i,t,!0);const r=i.behaviorFactories;i.reset();const o=P.createTemplateWalker(n);let s;for(;s=o.nextNode();)switch(i.targetIndex++,s.nodeType){case 1:at(i,s);break;case 3:lt(i,s,o);break;case 8:P.isMarker(s)&&i.addFactory(e[P.extractDirectiveIndexFromMarker(s)])}let a=0;(P.isMarker(n.firstChild)||1===n.childNodes.length&&e.length)&&(n.insertBefore(document.createComment(""),n.firstChild),a=-1);const l=i.behaviorFactories;return i.release(),{fragment:n,viewBehaviorFactories:l,hostBehaviorFactories:r,targetOffset:a}}(t,this.directives);this.fragment=n.fragment,this.viewBehaviorFactories=n.viewBehaviorFactories,this.hostBehaviorFactories=n.hostBehaviorFactories,this.targetOffset=n.targetOffset,this.behaviorCount=this.viewBehaviorFactories.length+this.hostBehaviorFactories.length,this.hasHostBehaviors=this.hostBehaviorFactories.length>0}const e=this.fragment.cloneNode(!0),n=this.viewBehaviorFactories,i=new Array(this.behaviorCount),r=P.createTemplateWalker(e);let o=0,s=this.targetOffset,a=r.nextNode();for(let t=n.length;o<t;++o){const t=n[o],e=t.targetIndex;for(;null!==a;){if(s===e){i[o]=t.createBehavior(a);break}a=r.nextNode(),s++}}if(this.hasHostBehaviors){const e=this.hostBehaviorFactories;for(let n=0,r=e.length;n<r;++n,++o)i[o]=e[n].createBehavior(t)}return new ut(e,i)}render(t,e,n){"string"==typeof e&&(e=document.getElementById(e)),void 0===n&&(n=e);const i=this.create(n);return i.bind(t,H),i.appendTo(e),i}}const dt=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;function pt(t,...e){const n=[];let i="";for(let r=0,o=t.length-1;r<o;++r){const o=t[r];let s=e[r];if(i+=o,s instanceof ht){const t=s;s=()=>t}if("function"==typeof s&&(s=new tt(s)),s instanceof $){const t=dt.exec(o);null!==t&&(s.targetName=t[2])}s instanceof R?(i+=s.createPlaceholder(n.length),n.push(s)):i+=s}return i+=t[t.length-1],new ht(i,n)}
/**
	 * @version 0.0.1
	 * @author by fico on 2022/05/05
	 * @Copyright © 2022 hi-kits. All rights reserved.
	 * @description
	 */class ft{constructor(){this.targets=new WeakSet}addStylesTo(t){this.targets.add(t)}removeStylesFrom(t){this.targets.delete(t)}isAttachedTo(t){return this.targets.has(t)}withBehaviors(...t){return this.behaviors=null===this.behaviors?t:this.behaviors.concat(t),this}}function vt(t){return t.map((t=>t instanceof ft?vt(t.styles):[t])).reduce(((t,e)=>t.concat(e)),[])}function gt(t){return t.map((t=>t instanceof ft?t.behaviors:null)).reduce(((t,e)=>null===e?t:(null===t&&(t=[]),t.concat(e))),null)}ft.create=(()=>{if(P.supportsAdoptedStyleSheets){const t=new Map;return e=>new bt(e,t)}return t=>new yt(t)})();class bt extends ft{get styleSheets(){if(void 0===this._styleSheets){const t=this.styles,e=this.styleSheetCache;this._styleSheets=vt(t).map((t=>{if(t instanceof CSSStyleSheet)return t;let n=e.get(t);return void 0===n&&(n=new CSSStyleSheet,n.replaceSync(t),e.set(t,n)),n}))}return this._styleSheets}constructor(t,e){super(),this.styles=t,this.styleSheetCache=e,this._styleSheets=void 0,this.behaviors=gt(t)}addStylesTo(t){t.adoptedStyleSheets=[...t.adoptedStyleSheets,...this.styleSheets],super.addStylesTo(t)}removeStylesFrom(t){const e=this.styleSheets;t.adoptedStyleSheets=t.adoptedStyleSheets.filter((t=>-1===e.indexOf(t))),super.removeStylesFrom(t)}}let mt=0;class yt extends ft{constructor(t){super(),this.styles=t,this.behaviors=null,this.behaviors=gt(t),this.styleSheets=vt(t),this.styleClass="hi-style-class-"+ ++mt}addStylesTo(t){const e=this.styleSheets,n=this.styleClass;t=this.normalizeTarget(t);for(let i=0;i<e.length;i++){const r=document.createElement("style");r.innerHTML=e[i],r.className=n,t.append(r)}super.addStylesTo(t)}removeStylesFrom(t){const e=(t=this.normalizeTarget(t)).querySelectorAll(`.${this.styleClass}`);for(let n=0,i=e.length;n<i;++n)t.removeChild(e[n]);super.removeStylesFrom(t)}isAttachedTo(t){return super.isAttachedTo(this.normalizeTarget(t))}normalizeTarget(t){return t===document?document.body:t}}
/**
	 * @version 0.0.1
	 * @author by fico on 2022/05/05
	 * @Copyright © 2022 hi-kits. All rights reserved.
	 * @description
	 */const xt={toView:t=>t?"true":"false",fromView:t=>null!=t&&"false"!==t&&!1!==t&&0!==t};class wt{constructor(t,e,n=e.toLowerCase(),i="reflect",r){this.guards=new Set,this.Owner=t,this.name=e,this.attribute=n,this.mode=i,this.converter=r,this.fieldName=`_${e}`,this.callbackName=`${e}Changed`,this.hasCallback=this.callbackName in t.prototype,"boolean"===i&&void 0===r&&(this.converter=xt)}setValue(t,e){const n=t[this.fieldName],i=this.converter;void 0!==i&&(e=i.fromView(e)),n!==e&&(t[this.fieldName]=e,this.tryReflectToAttribute(t),t.$hiController.notify(this.name),this.hasCallback&&(t.$hiController.isConnected?t[this.callbackName](n,e):t.$hiController.subscribe({handleChange:(t,i)=>{t[this.callbackName](n,e)}},"isConnected")))}getValue(t){return j.track(t,this.name),t[this.fieldName]}onAttributeChangedCallback(t,e){this.guards.has(t)||(this.guards.add(t),this.setValue(t,e),this.guards.delete(t))}tryReflectToAttribute(t){const e=this.mode,n=this.guards;n.has(t)||"fromView"===e||P.queueUpdate((()=>{n.add(t);const i=t[this.fieldName];switch(e){case"reflect":const e=this.converter;P.setAttribute(t,this.attribute,void 0!==e?e.toView(i):i);break;case"boolean":P.setBooleanAttribute(t,this.attribute,i)}n.delete(t)}))}static collect(t,...e){const n=[];e.push(t.attributes);for(let i=0,r=e.length;i<r;++i){const r=e[i];if(void 0!==r)for(let e=0,i=r.length;e<i;++e){const i=r[e];"string"==typeof i?n.push(new wt(t,i)):n.push(new wt(t,i.property,i.attribute,i.mode,i.converter))}}return n}}
/**
	 * @version 0.0.1
	 * @author by fico on 2022/05/05
	 * @Copyright © 2022 hi-kits. All rights reserved.
	 * @description
	 */const _t={mode:"open"},kt={},St=C.getById(4,(()=>{const t=new Map;return Object.freeze({register:e=>!t.has(e.type)&&(t.set(e.type,e),!0),getByType:e=>t.get(e)})}));class Ct{get isDefined(){return!!St.getByType(this.type)}constructor(t,e=t.definition){"string"==typeof e&&(e={name:e}),this.type=t,this.name=e.name,this.template=e.template;const n=wt.collect(t,e.attributes),i=new Array(n.length),r={},o={};for(let t=0,e=n.length;t<e;++t){const e=n[t];i[t]=e.attribute,r[e.name]=e,o[e.attribute]=e}this.attributes=n,this.observedAttributes=i,this.propertyLookup=r,this.attributeLookup=o,this.shadowOptions=void 0===e.shadowOptions?_t:null===e.shadowOptions?void 0:Object.assign(Object.assign({},_t),e.shadowOptions),this.elementOptions=void 0===e.elementOptions?kt:Object.assign(Object.assign({},kt),e.elementOptions),this.styles=void 0===e.styles?void 0:Array.isArray(e.styles)?ft.create(e.styles):e.styles instanceof ft?e.styles:ft.create([e.styles])}define(t=customElements){const e=this.type;if(St.register(this)){const t=this.attributes,n=e.prototype;for(let e=0,i=t.length;e<i;++e)j.defineProperty(n,t[e]);Reflect.defineProperty(e,"observedAttributes",{value:this.observedAttributes,enumerable:!0})}return t.get(this.name)||t.define(this.name,e,this.elementOptions),this}}Ct.forType=St.getByType;
/**
	 * @version 0.0.1
	 * @author by fico on 2022/05/05
	 * @Copyright © 2022 hi-kits. All rights reserved.
	 * @description
	 */
const Mt=new WeakMap,Tt={bubbles:!0,composed:!0,cancelable:!0};function Ot(t){return t.shadowRoot||Mt.get(t)||null}class It extends E{get isConnected(){return j.track(this,"isConnected"),this._isConnected}setIsConnected(t){this._isConnected=t,j.notify(this,"isConnected")}get template(){return this._template}set template(t){this._template!==t&&(this._template=t,this.needsInitialization||this.renderTemplate(t))}get styles(){return this._styles}set styles(t){this._styles!==t&&(null!==this._styles&&this.removeStyles(this._styles),this._styles=t,this.needsInitialization||null===t||this.addStyles(t))}constructor(t,e){super(t),this.boundObservables=null,this.behaviors=null,this.needsInitialization=!0,this._template=null,this._styles=null,this._isConnected=!1,this.$hiController=this,this.view=null,this.element=t,this.definition=e;const n=e.shadowOptions;if(void 0!==n){const e=t.attachShadow(n);"closed"===n.mode&&Mt.set(t,e)}const i=j.getAccessors(t);if(i.length>0){const e=this.boundObservables=Object.create(null);for(let n=0,r=i.length;n<r;++n){const r=i[n].name,o=t[r];void 0!==o&&(delete t[r],e[r]=o)}}}addStyles(t){const e=Ot(this.element)||this.element.getRootNode();if(t instanceof HTMLStyleElement)e.append(t);else if(!t.isAttachedTo(e)){const n=t.behaviors;t.addStylesTo(e),null!==n&&this.addBehaviors(n)}}removeStyles(t){const e=Ot(this.element)||this.element.getRootNode();if(t instanceof HTMLStyleElement)e.removeChild(t);else if(t.isAttachedTo(e)){const n=t.behaviors;t.removeStylesFrom(e),null!==n&&this.removeBehaviors(n)}}addBehaviors(t){const e=this.behaviors||(this.behaviors=new Map),n=t.length,i=[];for(let r=0;r<n;++r){const n=t[r];e.has(n)?e.set(n,e.get(n)+1):(e.set(n,1),i.push(n))}if(this._isConnected){const t=this.element;for(let e=0;e<i.length;++e)i[e].bind(t,H)}}removeBehaviors(t,e=!1){const n=this.behaviors;if(null===n)return;const i=t.length,r=[];for(let o=0;o<i;++o){const i=t[o];if(n.has(i)){const t=n.get(i)-1;0===t||e?n.delete(i)&&r.push(i):n.set(i,t)}}if(this._isConnected){const t=this.element;for(let e=0;e<r.length;++e)r[e].unbind(t)}}onConnectedCallback(){if(this._isConnected)return;const t=this.element;this.needsInitialization?this.finishInitialization():null!==this.view&&this.view.bind(t,H);const e=this.behaviors;if(null!==e)for(const[n]of e)n.bind(t,H);this.setIsConnected(!0)}onDisconnectedCallback(){if(!this._isConnected)return;this.setIsConnected(!1);const t=this.view;null!==t&&t.unbind();const e=this.behaviors;if(null!==e){const t=this.element;for(const[n]of e)n.unbind(t)}}onAttributeChangedCallback(t,e,n){const i=this.definition.attributeLookup[t];void 0!==i&&i.onAttributeChangedCallback(this.element,n)}emit(t,e,n){return!!this._isConnected&&this.element.dispatchEvent(new CustomEvent(t,Object.assign(Object.assign({detail:e},Tt),n)))}finishInitialization(){const t=this.element,e=this.boundObservables;if(null!==e){const n=Object.keys(e);for(let i=0,r=n.length;i<r;++i){const r=n[i];t[r]=e[r]}this.boundObservables=null}const n=this.definition;null===this._template&&(this.element.resolveTemplate?this._template=this.element.resolveTemplate():n.template&&(this._template=n.template||null)),null!==this._template&&this.renderTemplate(this._template),null===this._styles&&(this.element.resolveStyles?this._styles=this.element.resolveStyles():n.styles&&(this._styles=n.styles||null)),null!==this._styles&&this.addStyles(this._styles),this.needsInitialization=!1}renderTemplate(t){const e=this.element,n=Ot(e)||e;null!==this.view?(this.view.dispose(),this.view=null):this.needsInitialization||P.removeChildNodes(n),t&&(this.view=t.render(e,n,e))}static forCustomElement(t){const e=t.$hiController;if(void 0!==e)return e;const n=Ct.forType(t.constructor);if(void 0===n)throw new Error("Missing HIElement definition.");return t.$hiController=new It(t,n)}}
/**
	 * @version 0.0.1
	 * @author by fico on 2022/05/05
	 * @Copyright © 2022 hi-kits. All rights reserved.
	 * @description
	 */function At(t){return class extends t{constructor(){super(),It.forCustomElement(this)}$emit(t,e,n){return this.$hiController.emit(t,e,n)}connectedCallback(){this.$hiController.onConnectedCallback()}disconnectedCallback(){this.$hiController.onDisconnectedCallback()}attributeChangedCallback(t,e,n){this.$hiController.onAttributeChangedCallback(t,e,n)}}}const zt=Object.assign(At(HTMLElement),{from:t=>At(t),define:(t,e)=>new Ct(t,e).define().type});function Lt(t){return function(e){new Ct(e,t).define()}}
/**
	 * @version 0.0.1
	 * @author by fico on 2022/05/05
	 * @Copyright © 2022 hi-kits. All rights reserved.
	 * @description
	 */class Pt{createCSS(){return""}createBehavior(){}}
/**
	 * @version 0.0.1
	 * @author by fico on 2022/05/05
	 * @Copyright © 2022 hi-kits. All rights reserved.
	 * @description
	 */function Bt(t,...e){const{styles:n,behaviors:i}=function(t,e){const n=[];let i="";const r=[];for(let o=0,s=t.length-1;o<s;++o){i+=t[o];let s=e[o];if(s instanceof Pt){const t=s.createBehavior();s=s.createCSS(),t&&r.push(t)}s instanceof ft||s instanceof CSSStyleSheet?(""!==i.trim()&&(n.push(i),i=""),n.push(s)):i+=s}return i+=t[t.length-1],""!==i.trim()&&n.push(i),{styles:n,behaviors:r}}(t,e),r=ft.create(n);return i.length&&r.withBehaviors(...i),r}
/**
	 * @version 0.0.1
	 * @author by fico on 2022/05/05
	 * @Copyright © 2022 hi-kits. All rights reserved.
	 * @description
	 */class Et{constructor(t,e){this.target=t,this.propertyName=e}bind(t){t[this.propertyName]=this.target}unbind(){}}function jt(t){return new U("hi-ref",Et,t)}
/**
	 * @version 0.0.1
	 * @author by fico on 2022/05/05
	 * @Copyright © 2022 hi-kits. All rights reserved.
	 * @description
	 */var Ft,Nt,Wt,Ht,Rt,$t,Ut,Vt,Dt,Yt,Xt,qt,Gt;Object.freeze({positioning:!1,recycle:!0});var Jt,Zt={tool:pt(Ft||(Ft=w(['<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16"><path d="M317.626182 163.467636c-20.666182 20.945455-20.666182 54.923636 0 73.262546 10.426182 10.426182 23.365818 15.639273 36.305454 15.639273 13.032727 0 25.972364-5.213091 36.305455-15.639273l121.949091-83.781818 116.642909 81.175272c20.759273 20.852364 54.458182 20.852364 72.610909 0 20.759273-20.945455 20.759273-54.923636 0-73.262545L558.824727 19.642182c-25.879273-26.158545-70.004364-26.158545-98.490182 0L317.626182 163.467636zM786.990545 626.501818c-20.666182 20.945455-20.666182 54.923636 0 73.262546 10.426182 10.426182 23.365818 15.732364 36.305455 15.732363 13.032727 0 25.972364-5.306182 36.305455-15.732363l142.708363-143.825455c28.485818-26.158545 28.485818-70.656 2.513455-99.421091L864.814545 312.599273a49.803636 49.803636 0 0 0-72.610909 0 50.827636 50.827636 0 0 0 0 73.169454l114.129455 133.399273L786.990545 626.501818zM19.549091 456.424727c-25.972364 26.065455-25.972364 70.656 0 99.421091L161.978182 699.671273c10.333091 10.426182 23.272727 15.732364 36.305454 15.732363s25.972364-5.306182 36.305455-15.732363a50.827636 50.827636 0 0 0 0-73.262546L128.372364 519.168l103.703272-133.399273c20.759273-20.852364 20.759273-54.923636 0-73.169454-20.759273-20.945455-54.458182-20.945455-72.610909 0L19.549091 456.424727z m300.776727 329.541818c-20.759273 20.945455-20.759273 54.923636 0 73.262546l142.615273 143.825454c13.032727 13.032727 31.185455 20.945455 49.338182 20.945455s36.305455-7.819636 49.245091-20.945455l142.615272-141.218909c20.759273-20.945455 20.759273-54.923636 0-73.262545-20.759273-20.945455-54.458182-20.945455-72.610909 0l-119.249454 96.814545L392.843636 785.966545c-20.759273-20.945455-54.458182-20.945455-72.610909 0z"></path><path d="M414.906182 523.077818a104.634182 103.703273 90 1 0 207.406545 0 104.634182 103.703273 90 1 0-207.406545 0Z"></path></svg>']))),lr:'<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16"><path d="M512 438.848q3.584 0 7.168 0.384 3.584 0.32 7.104 1.024t6.976 1.728q3.456 1.088 6.72 2.432 3.328 1.408 6.528 3.072 3.2 1.728 6.144 3.712 3.008 1.92 5.76 4.288 2.752 2.24 5.312 4.8 2.56 2.56 4.8 5.312 2.304 2.752 4.288 5.76 1.984 3.008 3.712 6.144 1.664 3.2 3.072 6.528 1.344 3.264 2.432 6.72 1.024 3.456 1.728 6.976 0.64 3.52 1.024 7.04 0.384 3.648 0.384 7.232t-0.384 7.168q-0.32 3.584-1.024 7.04-0.704 3.584-1.728 7.04-1.088 3.392-2.432 6.72-1.408 3.328-3.072 6.528-1.728 3.2-3.712 6.144-1.92 3.008-4.288 5.76-2.24 2.752-4.8 5.312-2.56 2.56-5.312 4.8-2.752 2.304-5.76 4.288-3.008 1.984-6.144 3.712-3.2 1.664-6.528 3.072-3.264 1.344-6.72 2.432-3.456 1.024-6.976 1.728-3.52 0.64-7.04 1.024-3.648 0.384-7.232 0.384t-7.168-0.384q-3.584-0.32-7.04-1.024-3.584-0.704-7.04-1.728-3.392-1.088-6.72-2.432-3.328-1.408-6.528-3.072-3.2-1.728-6.144-3.712-3.008-1.984-5.76-4.288-2.752-2.24-5.312-4.8-2.56-2.56-4.8-5.312-2.304-2.752-4.288-5.76-1.984-3.008-3.712-6.144-1.664-3.2-3.072-6.528-1.344-3.328-2.432-6.72-1.024-3.456-1.728-7.04-0.64-3.456-1.024-7.04t-0.384-7.168q0-3.584 0.384-7.168 0.32-3.584 1.024-7.104t1.728-6.976q1.088-3.456 2.432-6.72 1.408-3.328 3.072-6.528 1.728-3.2 3.712-6.144 1.984-3.008 4.288-5.76 2.24-2.752 4.8-5.312 2.56-2.56 5.312-4.8 2.752-2.304 5.76-4.288 3.008-1.984 6.144-3.712 3.2-1.664 6.528-3.072 3.328-1.344 6.72-2.432 3.456-1.024 7.04-1.728 3.456-0.64 7.04-1.024t7.168-0.384z"></path><path d="M365.696 365.696a24.32 24.32 0 0 1-7.104 17.28L229.504 512l129.088 129.024a24.32 24.32 0 1 1-34.496 34.56L177.792 529.216a24.32 24.32 0 0 1 0-34.432L324.096 348.48a24.32 24.32 0 0 1 41.6 17.28zM853.376 512a24.32 24.32 0 0 1-7.168 17.28L699.904 675.52a24.32 24.32 0 0 1-34.496-34.496L794.496 512 665.408 382.976a24.32 24.32 0 0 1 34.56-34.496l146.24 146.304A24.32 24.32 0 0 1 853.312 512z"></path></svg>',lock:pt(Nt||(Nt=w(['<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16"><path d="M744 421h-9V273.1C735 171.59 652.41 89 550.9 89h-77.8C371.59 89 289 171.59 289 273.1V421h-9a84.25 84.25 0 0 0-84 84v340a84.25 84.25 0 0 0 84 84h464a84.25 84.25 0 0 0 84-84V505a84.25 84.25 0 0 0-84-84zM560 707.78L572 804H452l12-96.22a88 88 0 1 1 95.94 0zM655 421H369V273.1A104.22 104.22 0 0 1 473.1 169h77.8A104.22 104.22 0 0 1 655 273.1z"></path></svg>']))),down:pt(Wt||(Wt=w(['<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16"><path d="M272.535 338a8 8 0 0 1 5.632 2.319L512 572.14l233.833-231.822a8 8 0 0 1 5.317-2.313l0.316-0.006h94.404c7.144 0 10.705 8.652 5.632 13.681l-333.869 331a8 8 0 0 1-11.264 0l-333.869-331c-5.073-5.03-1.511-13.681 5.633-13.681z"></path></svg>']))),up:pt(Ht||(Ht=w(['<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16"><path d="M751.465 685a8 8 0 0 1-5.632-2.319L512 450.86l-233.833 231.822a8 8 0 0 1-5.317 2.313l-0.316 0.006-94.404 0c-7.144 0-10.705-8.652-5.632-13.681l333.869-331a8 8 0 0 1 11.264 0l333.869 331c5.073 5.03 1.511 13.681-5.633 13.681z"></path></svg>']))),left:pt(Rt||(Rt=w(['<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16"><path d="M685.5 273.035a8 8 0 0 1-2.319 5.632L451.36 512.5l231.822 233.833a8 8 0 0 1 2.313 5.317l0.006 0.316 0 94.404c0 7.144-8.652 10.705-13.681 5.632l-331-333.869a8 8 0 0 1 0-11.264l331-333.869c5.03-5.073 13.681-1.511 13.681 5.633z"></path></svg>']))),right:pt($t||($t=w(['<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16"><path d="M338.5 751.965a8 8 0 0 1 2.319-5.632L572.64 512.5l-231.822-233.833a8 8 0 0 1-2.313-5.317l-0.006-0.316 0-94.404c0-7.144 8.652-10.705 13.681-5.632l331 333.869a8 8 0 0 1 0 11.264l-331 333.869c-5.03 5.073-13.681 1.511-13.681-5.633z"></path></svg>']))),upload:pt(Ut||(Ut=w(['<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg width="16" height="16"><path d="M896 608a32 32 0 0 1 31.850667 28.928L928 640v96c0 115.946667-93.312 210.133333-209.450667 213.248l-5.909333 0.085333h-401.28c-116.885333 0-212.138667-92.288-215.274667-207.466666L96 736V640a32 32 0 0 1 63.850667-3.072L160 640v96c0 80.704 64.96 146.602667 146.261333 149.248l5.12 0.085333h401.258667c81.962667 0 148.586667-64.234667 151.274667-144.298666l0.085333-5.034667V640a32 32 0 0 1 32-32zM503.978667 123.370667a32 32 0 0 1 34.752-1.706667l2.624 1.706667 266.666666 192a32 32 0 0 1-34.794666 53.610666l-2.581334-1.685333L522.666667 188.757333l-247.978667 178.56a32 32 0 0 1-42.730667-4.864l-1.92-2.432a32 32 0 0 1 4.842667-42.730666l2.432-1.92 266.666667-192z"></path><path d="M522.666667 704a32 32 0 0 1-32-32v-490.666667a32 32 0 0 1 64 0v490.666667a32 32 0 0 1-32 32z" ></path></svg>']))),xleft:pt(Vt||(Vt=w(['<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16"><path d="M429.696 210.304l60.330667 60.330667L291.328 469.333333H682.666667v85.333334H291.328l198.698667 198.698666-60.330667 60.330667L128 512.042667l301.696-301.738667zM768.042667 810.666667V213.333333h85.333333v597.333334h-85.333333z"></path></svg>']))),xright:pt(Dt||(Dt=w(['<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" p-id="17526" width="16" height="16"><path d="M732.672 469.333333l-198.698667-198.698666 60.330667-60.330667L896 512l-301.696 301.696-60.330667-60.330667L732.672 554.666667H341.333333v-85.333334h391.338667zM170.666667 810.666667V213.333333h85.333333v597.333334H170.666667z"></path></svg>']))),reset:pt(Yt||(Yt=w(['<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" p-id="6920" width="16" height="16"><path d="M885.58 554.65c-22.86 0-41.39-18.53-41.39-41.39V182.17c0-22.86 18.53-41.39 41.39-41.39s41.39 18.53 41.39 41.39v331.09c-0.01 22.86-18.54 41.39-41.39 41.39zM140.62 885.74c-22.86 0-41.39-18.53-41.39-41.39V513.26c0-22.86 18.53-41.39 41.39-41.39s41.39 18.53 41.39 41.39v331.09c0 22.86-18.53 41.39-41.39 41.39z"></path><path d="M513.1 927.12c-228.21 0-413.86-185.65-413.86-413.86 0-22.86 18.53-41.39 41.39-41.39s41.39 18.53 41.39 41.39c0 182.56 148.53 331.09 331.09 331.09 86.23 0 167.89-32.98 229.93-92.86 16.45-15.82 42.66-15.42 58.52 1.05 15.86 16.45 15.4 42.64-1.05 58.52-77.57 74.84-179.64 116.06-287.41 116.06zM885.6 554.65c-22.86 0-41.39-18.53-41.39-41.39 0-182.56-148.53-331.09-331.09-331.09-90.65 0-175.27 35.93-238.25 101.16-15.82 16.51-42.07 16.95-58.5 1.03-16.45-15.86-16.91-42.07-1.03-58.5C294.04 144.3 399.81 99.4 513.12 99.4c228.21 0 413.86 185.65 413.86 413.86 0 22.86-18.53 41.39-41.38 41.39z"></path></svg>']))),logo:pt(Xt||(Xt=w(['<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="20" height="20"><path d="M906.76 548.35l-54.71-42.84 68.87-53.94c33.52-26.25 33.52-69.22 0-95.47L572.95 83.56c-33.52-26.25-88.37-26.25-121.89 0L103.08 356.11c-33.52 26.25-33.52 69.22 0 95.47l68.88 53.95-54.72 42.86c-22.25 17.43-34.99 42.36-34.99 68.37 0 25.98 12.77 50.87 34.99 68.31L436.81 935.4c21.13 16.5 48.17 24.74 75.21 24.74 27.04 0 54.08-8.24 75.15-24.74l319.6-250.33c22.25-17.43 34.99-42.33 34.99-68.31-0.01-26.02-12.75-50.94-35-68.41z m-38.41 87.67l-319.6 250.36c-19.52 15.29-53.89 15.32-73.53-0.03l-319.6-250.33c-7.18-5.63-11.13-12.46-11.13-19.3s3.95-13.71 11.16-19.33l66.81-52.32 228.6 179.05c33.52 26.25 88.37 26.25 121.89 0l228.61-179.05 66.8 52.29c7.21 5.66 11.13 12.52 11.13 19.36s-3.93 13.68-11.14 19.3z" fill="#fff"></path></svg>']))),alignTop:pt(qt||(qt=w(['<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16"><path d="M693.25 249.3h-35.9a99.67 99.67 0 0 0-99.55 99.55v235.9a99.67 99.67 0 0 0 99.55 99.55h35.9a99.67 99.67 0 0 0 99.55-99.55v-235.9a99.67 99.67 0 0 0-99.55-99.55z m39.55 335.45a39.59 39.59 0 0 1-39.55 39.55h-35.9a39.59 39.59 0 0 1-39.55-39.55v-235.9a39.59 39.59 0 0 1 39.55-39.55h35.9a39.59 39.59 0 0 1 39.55 39.55zM397.25 249.3h-35.9a99.67 99.67 0 0 0-99.55 99.55v417.9a99.67 99.67 0 0 0 99.55 99.55h35.9a99.67 99.67 0 0 0 99.55-99.55v-417.9a99.67 99.67 0 0 0-99.55-99.55z m39.55 517.45a39.59 39.59 0 0 1-39.55 39.55h-35.9a39.59 39.59 0 0 1-39.55-39.55v-417.9a39.59 39.59 0 0 1 39.55-39.55h35.9a39.59 39.59 0 0 1 39.55 39.55zM840.8 129.8H220.7a30 30 0 0 0 0 60h620.1a30 30 0 0 0 0-60z"></path></svg>']))),alignLeft:pt(Gt||(Gt=w(['<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"width="16" height="16"><path d="M371.55 481h255.9A99.67 99.67 0 0 0 727 381.45v-35.9A99.67 99.67 0 0 0 627.45 246h-255.9A99.67 99.67 0 0 0 272 345.55v35.9A99.67 99.67 0 0 0 371.55 481zM332 345.55A39.59 39.59 0 0 1 371.55 306h255.9A39.59 39.59 0 0 1 667 345.55v35.9A39.59 39.59 0 0 1 627.45 421h-255.9A39.59 39.59 0 0 1 332 381.45zM809.45 542h-437.9A99.67 99.67 0 0 0 272 641.55v35.9A99.67 99.67 0 0 0 371.55 777h437.9A99.67 99.67 0 0 0 909 677.45v-35.9A99.67 99.67 0 0 0 809.45 542zM849 677.45A39.59 39.59 0 0 1 809.45 717h-437.9A39.59 39.59 0 0 1 332 677.45v-35.9A39.59 39.59 0 0 1 371.55 602h437.9A39.59 39.59 0 0 1 849 641.55zM182.5 168a30 30 0 0 0-30 30v620.1a30 30 0 0 0 60 0V198a30 30 0 0 0-30-30z"></path></svg>'])))},Qt=Bt(Jt||(Jt=w(['\n*{\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n    -webkit-text-size-adjust:none;\n    -webkit-touch-callout:none;\n    -webkit-user-select:none;\n    -khtml-user-select:none;\n    -moz-user-select:none;\n    -ms-user-select:none;\n    user-select:none;\n    -webkit-user-drag: none;\n    -webkit-tap-highlight-color:rgba(0,0,0,0);\n}\n\n.MirrorWrap {font-size:14px;}\n.Info { position:absolute;font-size:10px; color:#fff;}\n.UIWrap{position:absolute;z-index:9999999;height:100%;top:0;background-color:rgba(255, 255, 255, 0.5);overflow: hidden;\n    box-shadow: 0 0 1px 1px rgb(167, 167, 167);\n}\n.UIWrap .ImagePreview{position:absolute;}\n\n.sliderInput{\n    -webkit-appearance: none;\n    background: transparent;\n    position: fixed;\n    bottom: 180px;\n    left: -19px;\n    width: -webkit-calc(100% + 34px);\n    width: -moz-calc(100% + 34px);\n    width: calc(100% + 34px);\n    z-index: 99999999;\n    cursor: pointer; \n}\ninput[type="range"].sliderInput::-webkit-slider-thumb {\n    -webkit-appearance: none;\n    height: 34px;\n    width: 34px;\n    border-radius: 50%;\n    background: url(\'data:image/svg+xml,',"') #fff;\n    box-shadow: 0 0 4px rgba(0, 0, 0, .4);\n    -webkit-background-size: cover;\n    -moz-background-size: cover;\n    -o-background-size: cover;\n    background-size: cover;\n    background-position: center;\n    cursor: pointer;\n    margin-top: -16px;\n}\n\n\n"])),Zt.lr),Kt={exports:{}};!function(t){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports}(Kt);var te=e(Kt.exports),ee={exports:{}},ne={exports:{}},ie={exports:{}};!function(t){function e(n){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(ie);var re={exports:{}};!function(t){var e=ie.exports.default;t.exports=function(t,n){if("object"!=e(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,n||"default");if("object"!=e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)},t.exports.__esModule=!0,t.exports.default=t.exports}(re),function(t){var e=ie.exports.default,n=re.exports;t.exports=function(t){var i=n(t,"string");return"symbol"==e(i)?i:i+""},t.exports.__esModule=!0,t.exports.default=t.exports}(ne),function(t){var e=ne.exports;function n(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,e(r.key),r)}}t.exports=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports}(ee);var oe=e(ee.exports),se=function(t,e,n,i){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n},ae=function(t,e,n,i){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null},le={exports:{}},ce={exports:{}},ue={exports:{}};!function(t){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i},t.exports.__esModule=!0,t.exports.default=t.exports}(ue),function(t){var e=ue.exports;t.exports=function(t){if(Array.isArray(t))return e(t)},t.exports.__esModule=!0,t.exports.default=t.exports}(ce);var he={exports:{}};!function(t){t.exports=function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},t.exports.__esModule=!0,t.exports.default=t.exports}(he);var de={exports:{}};!function(t){var e=ue.exports;t.exports=function(t,n){if(t){if("string"==typeof t)return e(t,n);var i={}.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?e(t,n):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports}(de);var pe={exports:{}};!function(t){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports}(pe),function(t){var e=ce.exports,n=he.exports,i=de.exports,r=pe.exports;t.exports=function(t){return e(t)||n(t)||i(t)||r()},t.exports.__esModule=!0,t.exports.default=t.exports}(le);var fe=e(le.exports);function ve(t){if("string"==typeof t)return String(t).replace(/(^\s*)|(\s*$)/g,"").replace(/\u200B/g,"");if("[object Array]"===Object.prototype.toString.call(t))return t.forEach((function(t){t=ve(t)})),t;if("[object Object]"!==Object.prototype.toString.call(t)||null==t)return t;for(var e in t)t[e]=ve(t[e]);return t}var ge=function(t){return"[object Object]"==function(t){return Object.prototype.toString.call(t)}(t)};function be(t){return function(e,n){if(ge(e))for(var i in e)me(t)(i,e[i]);if("string"==typeof e){if(/:/g.test(e))e.split(";").forEach((function(e){var n=(e=ve(e)).split(":");me(t)(n[0],n[1])}));else me(t)(e,n)}}}function me(t){return function(e,n){if(t){if(void 0===n)return window.getComputedStyle(t,null).getPropertyValue(e);t.style[e]=n}}}function ye(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return xe(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xe(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function xe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var we=function(){function t(e){te(this,t),this.id=-1,this.nativePointer=e,this.pageX=e.pageX,this.pageY=e.pageY,this.clientX=e.clientX,this.clientY=e.clientY,this.offsetX=e.offsetX,this.offsetY=e.offsetY,self.Touch&&e instanceof Touch?this.id=e.identifier:_e(e)&&(this.id=e.pointerId)}return oe(t,[{key:"getCoalesced",value:function(){if("getCoalescedEvents"in this.nativePointer){var e=this.nativePointer.getCoalescedEvents().map((function(e){return new t(e)}));if(e.length>0)return e}return[this]}}]),t}(),_e=function(t){return"pointerId"in t},ke=function(t){return"changedTouches"in t},Se=function(){},Ce=function(){function t(e){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.start,o=void 0===r?function(){return!0}:r,s=i.move,a=void 0===s?Se:s,l=i.end,c=void 0===l?Se:l,u=i.rawUpdates,h=void 0!==u&&u,d=i.avoidPointerEvents,p=void 0!==d&&d;te(this,t),this._element=e,this.startPointers=[],this.currentPointers=[],this._excludeFromButtonsCheck=new Set,this._pointerStart=function(t){if(_e(t)&&0===t.buttons)n._excludeFromButtonsCheck.add(t.pointerId);else if(!(1&t.buttons))return;var e=new we(t);n.currentPointers.some((function(t){return t.id===e.id}))||n._triggerPointerStart(e,t)&&(_e(t)?((t.target&&"setPointerCapture"in t.target?t.target:n._element).setPointerCapture(t.pointerId),se(n._element,n._rawUpdates?"pointerrawupdate":"pointermove",n._move),se(n._element,"pointerup",n._pointerEnd),se(n._element,"pointercancel",n._pointerEnd)):(se(window,"mousemove",n._move),se(window,"mouseup",n._pointerEnd)))},this._touchStart=function(t){for(var e=0,i=Array.from(t.changedTouches);e<i.length;e++){var r=i[e];n._triggerPointerStart(new we(r),t)}},this._move=function(t){if(ke(t)||_e(t)&&n._excludeFromButtonsCheck.has(t.pointerId)||0!==t.buttons){var e,i=n.currentPointers.slice(),r=ke(t)?Array.from(t.changedTouches).map((function(t){return new we(t)})):[new we(t)],o=[],s=ye(r);try{var a=function(){var t=e.value,i=n.currentPointers.findIndex((function(e){return e.id===t.id}));if(-1===i)return 1;o.push(t),n.currentPointers[i]=t};for(s.s();!(e=s.n()).done;)a()}catch(t){s.e(t)}finally{s.f()}0!==o.length&&n._moveCallback(i,o,t)}else n._pointerEnd(t)},this._triggerPointerEnd=function(t,e){if(!ke(e)&&1&e.buttons)return!1;var i=n.currentPointers.findIndex((function(e){return e.id===t.id}));if(-1===i)return!1;n.currentPointers.splice(i,1),n.startPointers.splice(i,1),n._excludeFromButtonsCheck.delete(t.id);var r=!("mouseup"===e.type||"touchend"===e.type||"pointerup"===e.type);return n._endCallback(t,e,r),!0},this._pointerEnd=function(t){if(n._triggerPointerEnd(new we(t),t))if(_e(t)){if(n.currentPointers.length)return;ae(n._element,n._rawUpdates?"pointerrawupdate":"pointermove",n._move),ae(n._element,"pointerup",n._pointerEnd),ae(n._element,"pointercancel",n._pointerEnd)}else ae(window,"mousemove",n._move),ae(window,"mouseup",n._pointerEnd)},this._touchEnd=function(t){for(var e=0,i=Array.from(t.changedTouches);e<i.length;e++){var r=i[e];n._triggerPointerEnd(new we(r),t)}},setTimeout((function(){n._startCallback=o,n._moveCallback=a,n._endCallback=c,n._rawUpdates=h&&"onpointerrawupdate"in window,be(n._element)("touch-action","none"),n._element.ondragstart=function(t){t.preventDefault()},self.PointerEvent&&!p?se(n._element,"pointerdown",n._pointerStart):(se(n._element,"mousedown",n._pointerStart),se(n._element,"touchstart",n._touchStart),se(n._element,"touchmove",n._move),se(n._element,"touchend",n._touchEnd),se(n._element,"touchcancel",n._touchEnd))}),50)}return oe(t,[{key:"stop",value:function(){ae(this._element,"pointerdown",this._pointerStart),ae(this._element,"mousedown",this._pointerStart),ae(this._element,"touchstart",this._touchStart),ae(this._element,"touchmove",this._move),ae(this._element,"touchend",this._touchEnd),ae(this._element,"touchcancel",this._touchEnd),ae(this._element,this._rawUpdates?"pointerrawupdate":"pointermove",this._move),ae(this._element,"pointerup",this._pointerEnd),ae(this._element,"pointercancel",this._pointerEnd),ae(window,"mousemove",this._move),ae(window,"mouseup",this._pointerEnd)}},{key:"_triggerPointerStart",value:function(t,e){return!!this._startCallback(t,e)&&(this.currentPointers.push(t),this.startPointers.push(t),!0)}}]),t}();function Me(){var t=0,e=0;window.innerHeight&&window.scrollMaxY?(t=window.innerWidth+window.scrollMaxX,e=window.innerHeight+window.scrollMaxY):document.body.scrollHeight>document.body.offsetHeight?(t=document.body.scrollWidth,e=document.body.scrollHeight):document.body&&(t=document.body.offsetWidth,e=document.body.offsetHeight);var n=0,i=0;return window.innerHeight?(n=window.innerWidth,i=window.innerHeight):document.documentElement&&document.documentElement.clientHeight?(n=document.documentElement.clientWidth,i=document.documentElement.clientHeight):document.body&&(n=document.body.clientWidth,i=document.body.clientHeight),{PageW:t<n?n:t,PageH:e<i?i:e,WinW:n,WinH:i}}function Te(t,e){return function(n,i,r){var o=r.value;return r.value=function(){var n=o.apply(this,arguments);return t.call.apply(t,[this,e].concat(Array.prototype.slice.call(arguments))),n},r}}var Oe={exports:{}};!function(t){var e=ne.exports;t.exports=function(t,n,i){return(n=e(n))in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t},t.exports.__esModule=!0,t.exports.default=t.exports}(Oe);var Ie=e(Oe.exports),Ae={exports:{}},ze={exports:{}};!function(t){t.exports=function(t){if(Array.isArray(t))return t},t.exports.__esModule=!0,t.exports.default=t.exports}(ze);var Le={exports:{}};!function(t){t.exports=function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(a.push(i.value),a.length!==e);l=!0);}catch(t){c=!0,r=t}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}},t.exports.__esModule=!0,t.exports.default=t.exports}(Le);var Pe={exports:{}};!function(t){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports}(Pe),function(t){var e=ze.exports,n=Le.exports,i=de.exports,r=Pe.exports;t.exports=function(t,o){return e(t)||n(t,o)||i(t,o)||r()},t.exports.__esModule=!0,t.exports.default=t.exports}(Ae);var Be=e(Ae.exports),Ee=Math.min,je=Math.max,Fe=Math.floor,Ne=Math.round;function We(t,e,n){e/=100,n/=100;var i=Fe(t=t/360*6),r=t-i,o=n*(1-e),s=n*(1-r*e),a=n*(1-(1-r)*e),l=i%6;return[255*[n,s,o,o,a,n][l],255*[a,n,n,s,o,o][l],255*[o,o,a,n,n,s][l]]}function He(t,e,n){var i,r,o=Ee(t/=255,e/=255,n/=255),s=je(t,e,n),a=s-o;if(0===a)i=r=0;else{r=a/s;var l=((s-t)/6+a/2)/a,c=((s-e)/6+a/2)/a,u=((s-n)/6+a/2)/a;t===s?i=u-c:e===s?i=1/3+l-u:n===s&&(i=2/3+c-l),i<0?i+=1:i>1&&(i-=1)}return[360*i,100*r,100*s]}function Re(t,e,n,i){e/=100,n/=100;var r=255*(1-Ee(1,(t/=100)*(1-(i/=100))+i)),o=255*(1-Ee(1,e*(1-i)+i)),s=255*(1-Ee(1,n*(1-i)+i));return fe(He(r,o,s))}function $e(t,e,n){return e/=100,[t,(n/=100)+(e*=n<.5?n:1-n)?2*e/(n+e)*100:0,100*(n+e)]}function Ue(t){return He.apply(void 0,fe(t.match(/.{2}/g).map((function(t){return parseInt(t,16)}))))}function Ve(t){t=t.match(/^[a-zA-Z]+$/)?function(t){if("black"===t.toLowerCase())return"#000000";var e=document.createElement("canvas").getContext("2d");return e.fillStyle=t,"#000000"===e.fillStyle?null:e.fillStyle}(t):t;var e,n={cmyk:/^cmyk[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)/i,rgba:/^((rgba)|rgb)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]*?([\d.]+|$)/i,hsla:/^((hsla)|hsl)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]*?([\d.]+|$)/i,hsva:/^((hsva)|hsv)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]*?([\d.]+|$)/i,hexa:/^#?(([\dA-Fa-f]{3,4})|([\dA-Fa-f]{6})|([\dA-Fa-f]{8}))$/i},i=function(t){return t.map((function(t){return/^(|\d+)\.\d+|\d+$/.test(t)?Number(t):void 0}))};t:for(var r in n)if(e=n[r].exec(t))switch(r){case"cmyk":var o=i(e),s=Be(o,5),a=s[1],l=s[2],c=s[3],u=s[4];if(a>100||l>100||c>100||u>100)break t;return{values:Re(a,l,c,u),type:r};case"rgba":var h=i(e),d=Be(h,7),p=d[3],f=d[4],v=d[5],g=d[6];if(p>255||f>255||v>255||g<0||g>1)break t;return{values:[].concat(fe(He(p,f,v)),[g]),a:g,type:r};case"hexa":var b=Be(e,2)[1];4!==b.length&&3!==b.length||(b=b.split("").map((function(t){return t+t})).join(""));var m=b.substring(0,6),y=b.substring(6);return y=y?parseInt(y,16)/255:void 0,{values:[].concat(fe(Ue(m)),[y]),a:y,type:r};case"hsla":var x=i(e),w=Be(x,7),_=w[3],k=w[4],S=w[5],C=w[6];if(_>360||k>100||S>100||C<0||C>1)break t;return{values:[].concat(fe($e(_,k,S)),[C]),a:C,type:r};case"hsva":var M=i(e),T=Be(M,7),O=T[3],I=T[4],A=T[5],z=T[6];if(O>360||I>100||A>100||z<0||z>1)break t;return{values:[O,I,A,z],a:z,type:r}}return{values:null,type:null}}function De(){var t=function(t,e){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e(~n?t.map((function(t){return Number(t.toFixed(n))})):t)}},e={h:arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,v:arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a:arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,toHSVA:function(){var n=[e.h,e.s,e.v,e.a];return n.toString=t(n,(function(t){return"hsva(".concat(t[0],", ").concat(t[1],"%, ").concat(t[2],"%, ").concat(e.a,")")})),n},toHSLA:function(){var n=[].concat(fe(function(t,e,n){var i=(2-(e/=100))*(n/=100)/2;return 0!==i&&(e=1===i?0:i<.5?e*n/(2*i):e*n/(2-2*i)),[t,100*e,100*i]}(e.h,e.s,e.v)),[e.a]);return n.toString=t(n,(function(t){return"hsla(".concat(t[0],", ").concat(t[1],"%, ").concat(t[2],"%, ").concat(e.a,")")})),n},toRGBA:function(){var n=[].concat(fe(We(e.h,e.s,e.v)),[e.a]);return n.toString=t(n,(function(t){return"rgba(".concat(t[0],", ").concat(t[1],", ").concat(t[2],", ").concat(e.a,")")})),n},toCMYK:function(){var n=function(t,e,n){var i,r=We(t,e,n),o=r[0]/255,s=r[1]/255,a=r[2]/255;return[100*(1===(i=Ee(1-o,1-s,1-a))?0:(1-o-i)/(1-i)),100*(1===i?0:(1-s-i)/(1-i)),100*(1===i?0:(1-a-i)/(1-i)),100*i]}(e.h,e.s,e.v);return n.toString=t(n,(function(t){return"cmyk(".concat(t[0],"%, ").concat(t[1],"%, ").concat(t[2],"%, ").concat(t[3],"%)")})),n},toHEXA:function(){var t=function(t,e,n){return We(t,e,n).map((function(t){return Ne(t).toString(16).padStart(2,"0")}))}(e.h,e.s,e.v),n=e.a>=1?"":Number((255*e.a).toFixed(0)).toString(16).toUpperCase().padStart(2,"0");return n&&t.push(n),t.toString=function(){return"#".concat(t.join("").toUpperCase())},t},clone:function(){return De(e.h,e.s,e.v,e.a)}};return e}function Ye(t,e){var n=Ve(t),i=De.apply(void 0,fe(n.values)).toRGBA();return"rgba(".concat(i[0].toFixed(0),",").concat(i[1].toFixed(0),",").concat(i[2].toFixed(0),",").concat(Number(i[3].toFixed(2))*e,")")}var Xe={theme:"#0073E5",primary:"#0073E5",success:"#18bc37",error:"#F2607A",warning:"#FAA54A",info:"#0073E5"},qe=function(t){return t.trim().toLowerCase().replace(t[0],t[0].toUpperCase())},Ge=function(t){return Ie(Ie(Ie(Ie({},"--".concat(t,"Color"),"var(--hi".concat(qe(t),"Color,").concat(Xe[t],")")),"--".concat(t,"Color-hover"),"var(--hi".concat(qe(t),"Color-hover,").concat(Ye(Xe[t],.6),")")),"--".concat(t,"Color-active"),"var(--hi".concat(qe(t),"Color-active,").concat(Ye(Xe[t],.4),")")),"--".concat(t,"Color-outline"),"var(--hi".concat(qe(t),"Color-outline,").concat(Ye(Xe[t],.15),")"))},Je=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({"--themeColor":"var(--hiThemeColor,".concat(Xe.primary,")"),"--themeShadow":"var(--hiThemeShadow, ".concat(Ye(Xe.primary,.25),")"),"--themeBackground":"var(--hiThemeBackground,".concat(Xe.primary,")"),"--fontColor":"var(--hiFontColor,#333)","--linkFontColor":"var(--hiLinkFontColor,".concat(Xe.primary,")"),"--fontSize14":"var(--hiFontSize14,14px)","--fontSize16":"var(--hiFontSize16,16px)","--fontSize20":"var(--hiFontSize20,20px)","--borderColor":"var(--hiBorderColor, rgba(102, 102, 102, 0.3))","--borderRadius":"var(--hiBorderRadius,4px)","--colorWhite":"#fff","--colorGray1":"#fafafa","--colorGray2":"#eee","--colorGray6":"#757575","--colorGray7":"#585858","--colorGray8":"#333","--colorNeutral02":"rgba(0,0,0,0.02)","--colorNeutral05":"rgba(0,0,0,0.05)","--colorNeutral1":"rgba(0,0,0,0.1)","--colorNeutral2":"rgba(0,0,0,0.2)","--colorNeutral3":"rgba(0,0,0,0.3)","--colorNeutral4":"rgba(0,0,0,0.4)","--colorNeutral5":"rgba(0,0,0,0.5)","--colorNeutral6":"rgba(0,0,0,0.65)","--colorNeutral7":"rgba(0,0,0,0.75)","--colorNeutral8":"rgba(0,0,0,0.85)","--colorBlack":"#000"},Ge("primary")),Ge("success")),Ge("error")),Ge("warning")),Ge("info"));var Ze,Qe,Ke=function(){function t(){if(te(this,t),this.config={theme:Je,button:{radius:6,size:"default"},message:{top:10,radius:6,duration:2e3},notify:{radius:6,duration:5e3},modal:{radius:8},toast:{radius:8,duration:2e3},popup:{radius:12,width:630,height:630},float:{margin:12},captcha:{radius:8,margin:24},space:{gutter:12},actions:{radius:12,margin:16}},window.HiServe=window.HiServe||{},!window.HiServe.IS_READY)if(window.HiServe.IS_READY=!0,function(){if(!window.sessionStorage.getItem("HI_KITS_HELLO_CONSOLE")){var t="✰ hi-kits ✰",e="\n\ndocs: ".concat(atob("aHR0cHM6Ly95cy16anJzLmhhaWVyLm5ldA=="),"/hidoc/index.html \n\ngit: https://github.com/hi-kits/hi-kit\n\n如有任何意见和建议可在网站留言\n\n"),n="padding:5px 0",i="background:#0CF;"+n,r="background:#111;font-size:14px;color:#FFF;"+n,o="background:#CFF;"+n;if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var s=["%c %c "+t+" %c %c"+e+"%c %c",i,r,i,o,i,"color:#000"];window.console.log.apply(console,s)}else window.console&&window.console.log(t+e);window.sessionStorage.setItem("HI_KITS_HELLO_CONSOLE","hello")}}(),window.localStorage.getItem("HI_ICONS"))window.HiServe.icons=JSON.parse(window.localStorage.getItem("HI_ICONS"));else{var e="https:"+atob("Ly96anJzLmhhaWVyLm5ldA==");(window.location.href.indexOf(atob("aHcuaGFpZXIubmV0L3BvcnRhbA=="))>-1||window.location.href.indexOf(atob("aHdvcmstaW50ZXJuYWwuaGFpZXIubmV0L3BvcnRhbA=="))>-1||window.location.href.indexOf(atob("aHdvcmsuaGFpZXIubmV0L3BvcnRhbA=="))>-1)&&(e=window.location.href.startsWith("https://p")||window.location.href.startsWith("http://p")?atob("aHR0cHM6Ly9wLWFwaS1jbi1zcDAwMDY3NS1pLmh3b3JrLmhhaWVyLm5ldA=="):atob("aHR0cHM6Ly9hcGktY24tc3AwMDA2NzUtaS5od29yay5oYWllci5uZXQ=")),n=[e+"/download/hikits/icons.js"],i=function(){window.HiServe.icons=window.Hi_Icons,window.localStorage.setItem("HI_ICONS",JSON.stringify(window.Hi_Icons))},r=document.getElementsByTagName("head")[0],Promise.all(n.map((function(t){return new Promise((function(e){var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=t,n.addEventListener("load",(function(t){return e()}),!1),r.appendChild(n)}))}))).then(i)}var n,i,r}return oe(t,[{key:"install",value:function(t){}},{key:"init",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.config;for(var n in t){var i=t[n];ge(i)?this.config[n]&&this.init(i,e[n]):e[n]=i}}}],[{key:"case",get:function(){return this._case||(this._case=new t),this._case}}]),t}(),tn={show:!0,direction:"left",position:1,range:50,hyaline:100,blendMode:"",image:{src:"",left:0,top:0,width:0,height:0},lock:!1},en=Bt(Ze||(Ze=w(["\n*{\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n    -webkit-text-size-adjust:none;\n    -webkit-touch-callout:none;\n    -webkit-user-select:none;\n    -khtml-user-select:none;\n    -moz-user-select:none;\n    -ms-user-select:none;\n    user-select:none;\n    -webkit-user-drag: none;\n    -webkit-tap-highlight-color:rgba(0,0,0,0);\n}\nul{list-style-type:none;}\nbutton{border:none;cursor:pointer;background-color:transparent;outline:none;}\n\n.Logo{\n  position:fixed;\n  bottom: 0;\n  left: 0;\n  width: 47px;\n  height: 47px;\n  z-index: 99999999999;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  user-select: none;\n  background: #2D2F36;\n  border-radius: 0 30px 0 0;\n}\n\n\nnav.TabsWrap {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    z-index: 9999999999;\n    width: 100%;\n    height: 96px;\n    box-shadow: 0 0 4px rgba(0, 0, 0, .4);\n    background-color: #fff;\n    user-select: none;\n}\n.main-tabs-wrapper {\n  position: relative;\n  background: #2D2F36;\n  color: #fff;\n}\n\nul.main-tabs,\nul.filter-tabs {\n  list-style-type: none;\n  display: flex;\n  width: 100%;\n  justify-content: space-around;\n}\n\nul.main-tabs li {\n  display: inline-flex;\n  position: relative;\n  z-index: 1;\n  width: 100%;\n  justify-content: center;\n  \n}\n\n\n.round-button {\n  height: 48px;\n  width: 90%;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  color: #fff;\n  transition: color 0.2s ease-in-out;  \n}\n\n.round-button.active {\n  color: #fff;\n  background:rgba(255, 255, 255, 0.2);\n}\n\n.round-button svg {\n  pointer-events: none;\n  height: 24px;\n  width:24px;\n  transform: translate(0, 0);\n}\n\n.filters-container {\n  overflow: hidden;\n  transition: max-height 0.4s ease-in-out;\n  max-height: var(--filters-container-height);\n}\n\n.FiltersWrap {\n  position: relative;\n  display: none;\n  transition: all 0.2s ease-in-out;\n  opacity: 0;\n}\n.FiltersWrap.active {\n  display: block;\n  opacity: 1;\n}\n.FilterTabs {\n  padding: 3px 6px;\n  display: flex;\n  min-height: 45px;\n  align-items: center;\n  overflow: hidden;\n  overflow-x: auto;\n  scroll-behavior:smooth;\n}\n.FilterTabs::-webkit-scrollbar{display:none}\n.FilterTabs li {\n  position: relative;\n  z-index: 1;\n  display: flex;\n  min-height:42px;\n  padding: 3px 12px;\n  margin-right: 3px;\n  font-size: 12px;\n  border-radius: 4px;\n  white-space: nowrap;\n  justify-content: center;\n  align-items: center;\n}\n.FilterTabs li:active{\n  background: rgba(0, 0, 0, 0.08);\n}\n.FilterTabs li.Line {\n  background: #ddd;\n  padding: 0 0 0 1px;\n  width: 1px;\n}\n.FilterTabs li svg {\n  fill: #212121;\n}\n.FilterTabs li.active{\n  background: #ffcb1e;\n}\n\n\n.FilterTabs li div {\n  width: 16px;\n  height: 16px;\n  display: block;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -80%);\n}\n.FilterTabs li strong {\n  font-size: 10px;\n  font-weight: 600;\n  margin-top: 22px;\n  color: #212121;\n}\n\n.filter-button.filter-active {\n  transition: color 0.4s ease-in-out;\n  color: var(--grey-900);\n}\n\n.AdjustWrap{display:flex;align-items: center;}\n.Upload{background: rgba(131, 204, 211,0.3);}\n\n.Upload input{\n  height: 100%;\n  width: 100%;\n  position: absolute;\n  top: 0;\n  right: 0;\n  opacity: 0;\n  filter: alpha(opacity=0);\n  cursor: pointer;\n}\n\n\n"])));function nn(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return rn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rn(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function rn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function on(t,e,n){return e=v(e),h(t,sn()?Reflect.construct(e,n||[],v(t).constructor):e.apply(t,n))}function sn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(sn=function(){return!!t})()}var an,ln=pt(Qe||(Qe=w(['\n<section>\n<nav class="TabsWrap" ','>\n  <div class="filters-container">\n    <div id="img" class="FiltersWrap active">\n      <ul class="FilterTabs">\n        <li class="Upload">\n          <div>','</div>\n          <strong>上传图片</strong>\n          <input type="file" '," @change=",' accept="image/*"></li>\n        <li class="Line"></li>\n        <li id="PosLeft" @click=',"><div>",'</div><strong>向左比对</strong></li>\n        <li id="PosRight" @click=',"><div>",'</div><strong>向右比对</strong></li>\n        <li id="Lock" @click=',"><div>","</div><strong>锁定图片</strong></li>\n        <li @click=","><div>",'</div><strong>重置图片</strong></li>\n      </ul>\n    </div>\n    <div id="adjust" class="FiltersWrap">\n      <div class="AdjustWrap">\n        <ul class="FilterTabs">\n          <li @click=',"><div>","</div><strong>顶对齐</strong></li>\n          <li @click=","><div>",'</div><strong>左对齐</strong></li>\n          <li class="Line"></li>\n          <li @click=',"><div>","</div><strong>向上微调</strong></li>\n          <li @click=","><div>","</div><strong>向下微调</strong></li>\n          <li @click=","><div>","</div><strong>向左微调</strong></li>\n          <li @click=","><div>",'</div><strong>向右微调</strong></li>\n        </ul>\n      </div>\n    </div>\n    <div id="transparent" class="FiltersWrap">\n      <ul class="FilterTabs">\n        <li><input class="Fade" ',' type="range" orient="vertical" min="0" max="1" step="0.01" @input=',' value="1"></li>\n        <li class="Line"></li>\n        <li @click=',">50%</li>\n        <li @click=",">80%</li>\n        <li @click=",'>100%</li>\n      </ul>\n    </div>\n    <div id="mixed" class="FiltersWrap">\n      <ul class="FilterTabs" id="MixedList">\n        <li id="normal" @click=','>正常</li>\n        <li class="Line"></li>\n        <li id="difference" @click=','>差值</li>\n        <li id="exclusion" @click=','>排除</li>\n        <li id="multiply" @click=','>正片叠底</li>\n        <li id="overlay" @click=','>叠加</li>\n        <li id="screen" @click=','>滤色</li>\n        <li id="darken" @click=','>变暗</li>\n        <li id="lighten" @click=','>变亮</li>\n        <li id="color-dodge" @click=','>颜色变淡</li>\n        <li id="color-burn" @click=','>颜色加深</li>\n        <li id="hard-light" @click=','>强光</li>\n        <li id="soft-light" @click=','>柔光</li>\n        <li id="hue" @click=','>色相</li>\n        <li id="saturation" @click=','>饱和度</li>\n        <li id="color" @click=','>颜色混合</li>\n        <li id="luminosity" @click=','>亮度</li>\n      </ul>\n    </div>\n  </div>\n  <div class="main-tabs-container">\n    <div class="main-tabs-wrapper">\n      <ul class="main-tabs">\n        <li style="width:48px"><button  style="width:48px"></button></li>\n        <li><button class="round-button active" data-id="img" data-color="red">UI图片</button></li>\n        <li><button class="round-button" data-id="adjust" data-color="blue">调整位置</button></li>\n        <li><button class="round-button" data-id="transparent" data-color="green">透明度</button></li>\n        <li><button class="round-button" data-id="mixed" data-color="purple">混合模式</button></li>\n      </ul>\n    </div>\n  </div>\n</nav>\n<div class="Logo" @click=',">","</div>\n</section>\n"])),jt("TabsWrap"),Zt.upload,jt("ImageInput"),(function(t,e){return t.uploadImg(e.event)}),(function(t){return t.position(2)}),Zt.xleft,(function(t){return t.position(1)}),Zt.xright,(function(t){return t.lockImg(!0)}),Zt.lock,(function(t){return t.reset()}),Zt.reset,(function(t){return t.move("alignTop")}),Zt.alignTop,(function(t){return t.move("alignLeft")}),Zt.alignLeft,(function(t){return t.move("up")}),Zt.up,(function(t){return t.move("down")}),Zt.down,(function(t){return t.move("left")}),Zt.left,(function(t){return t.move("right")}),Zt.right,jt("Fade"),(function(t,e){return t.hyaline(e.event,"range")}),(function(t){return t.hyaline(50)}),(function(t){return t.hyaline(80)}),(function(t){return t.hyaline(100)}),(function(t){return t.blendMode("normal")}),(function(t){return t.blendMode("difference")}),(function(t){return t.blendMode("exclusion")}),(function(t){return t.blendMode("multiply")}),(function(t){return t.blendMode("overlay")}),(function(t){return t.blendMode("screen")}),(function(t){return t.blendMode("darken")}),(function(t){return t.blendMode("lighten")}),(function(t){return t.blendMode("color-dodge")}),(function(t){return t.blendMode("color-burn")}),(function(t){return t.blendMode("hard-light")}),(function(t){return t.blendMode("soft-light")}),(function(t){return t.blendMode("hue")}),(function(t){return t.blendMode("saturation")}),(function(t){return t.blendMode("color")}),(function(t){return t.blendMode("luminosity")}),(function(t){return t.show()}),Zt.logo),cn=function(t){function e(){var t;return i(this,e),(t=on(this,e)).pageSize={WinW:0,WinH:0},t.ToolsSize={width:0,height:0},t._trackerPoint={x:0,y:0},t._position={left:0,top:0},t}return y(e,t),l(e,[{key:"connectedCallback",value:function(){var t=this;g(v(e.prototype),"connectedCallback",this).call(this),this.pageSize=Me(),this.ToolsSize={width:this.TabsWrap.offsetWidth,height:this.TabsWrap.offsetHeight},this.init();var n=this.TabsWrap.querySelectorAll(".main-tabs")[0],i=this.TabsWrap.querySelectorAll(".round-button");n.addEventListener("click",(function(e){var n,r=e.target.dataset.id;if(e.target.classList.contains("round-button")){t.TabsWrap.querySelectorAll(".FiltersWrap").forEach((function(t){t.classList.remove("active")})),function(t,e,n){t.forEach((function(t){t.classList.remove(n)})),e.target.classList.contains(n)||e.target.classList.add(n)}(i,e,"active");var o=null===(n=t.shadowRoot)||void 0===n?void 0:n.getElementById(r);o&&o.classList.add("active")}}))}},{key:"init",value:function(){var t,e;this.hyaline(tn.hyaline);var n=null===(t=this.shadowRoot)||void 0===t?void 0:t.getElementById(1==tn.position?"PosRight":"PosLeft");if(null==n||n.classList.add("active"),tn.lock){var i=null===(e=this.shadowRoot)||void 0===e?void 0:e.getElementById("Lock");null==i||i.classList.add("active")}this.blendMode(tn.blendMode),this.show(!0)}},{key:"reset",value:function(){tn.hyaline=100,tn.blendMode="normal",tn.image.left=0,tn.image.top=0,this.init(),this.$emit("change",{type:"reset"})}},{key:"show",value:function(t){t||(tn.show=!tn.show),be(this.TabsWrap)({display:tn.show?"":"none"}),this.$emit("change",{type:"show"})}},{key:"tracker",value:function(){var t=this;new Ce(this.ToolDrag,{start:function(e,n){return n.preventDefault(),t._trackerPoint.x=e.offsetX,t._trackerPoint.y=e.offsetY,!0},end:function(t){},move:function(e,n,i){var r,o=nn(n);try{for(o.s();!(r=o.n()).done;){var s=r.value;t.getPosition(s)}}catch(t){o.e(t)}finally{o.f()}}})}},{key:"getPosition",value:function(t,e){t.clientX-this._trackerPoint.x<0?this._position.left=0:t.clientX-this._trackerPoint.x+this.ToolsSize.width>this.pageSize.WinW?this._position.left=this.pageSize.WinW-this.ToolsSize.width:this._position.left=t.clientX-this._trackerPoint.x,t.clientY-this._trackerPoint.y<0?this._position.top=0:t.clientY-this._trackerPoint.y+this.ToolsSize.height>this.pageSize.WinH?this._position.top=this.pageSize.WinH-this.ToolsSize.height:this._position.top=t.clientY-this._trackerPoint.y,be(this.TabsWrap)({left:this._position.left+"px",top:this._position.top+"px"})}},{key:"uploadImg",value:function(t){var e=this,n=t.target.files[0];if(n){var i=new FileReader;i.onload=function(t){tn.image.src=t.target.result,e.$emit("change",{type:"upload"})},i.readAsDataURL(n)}}},{key:"move",value:function(t){switch(t){case"up":tn.image.top-=1;break;case"down":tn.image.top+=1;break;case"left":tn.image.left-=1;break;case"right":tn.image.left+=1;break;case"alignTop":tn.image.top=0;break;case"alignLeft":tn.image.left=0}this.$emit("change",{type:"move"})}},{key:"lockImg",value:function(t){var e;tn.lock=!tn.lock;var n=null===(e=this.shadowRoot)||void 0===e?void 0:e.getElementById("Lock");n&&n.classList.toggle("active"),this.$emit("change",{type:"lock"})}},{key:"position",value:function(t){var e,n;tn.position=t;var i=null===(e=this.shadowRoot)||void 0===e?void 0:e.getElementById("PosLeft"),r=null===(n=this.shadowRoot)||void 0===n?void 0:n.getElementById("PosRight");null==i||i.classList.remove("active"),null==r||r.classList.remove("active"),1==t?null==r||r.classList.add("active"):null==i||i.classList.add("active"),this.$emit("change",{type:"position",value:t})}},{key:"hyaline",value:function(t,e){e?t=100*t.target.value:this.Fade.value=String(t/100),tn.hyaline=t,this.$emit("change",{type:"hyaline",value:t})}},{key:"blendMode",value:function(t){var e;tn.blendMode=t;var n=null===(e=this.shadowRoot)||void 0===e?void 0:e.getElementById("MixedList");null==n||n.querySelectorAll("li").forEach((function(e){e.classList.remove("active"),t==e.id&&e.classList.add("active")})),this.$emit("change",{type:"blend"})}}]),e}(zt);function un(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return hn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hn(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function hn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function dn(t,e,n){return e=v(e),h(t,pn()?Reflect.construct(e,n||[],v(t).constructor):e.apply(t,n))}function pn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(pn=function(){return!!t})()}_([F],cn.prototype,"pageSize",void 0),_([F],cn.prototype,"ToolsSize",void 0),_([F],cn.prototype,"TabsWrap",void 0),_([F],cn.prototype,"ImageInput",void 0),_([F],cn.prototype,"Fade",void 0),_([F],cn.prototype,"ToolDrag",void 0),_([Te((function(){this.saveConfig()}))],cn.prototype,"getPosition",null),cn=_([Lt({name:"ui-mirror-tabs",template:ln,styles:en})],cn);var fn,vn,gn=pt(an||(an=w(['\n<section class="MirrorWrap" ','>\n  <input type="range" min="0" max="1" step="0.01" @input=','  class="sliderInput" value="0.5">\n  <div class="UIWrap" ','><img class="ImagePreview" src="" ',"></div>\n  <ui-mirror-tabs @change=","></ui-mirror-tabs>\n</section>\n"])),jt("MirrorWrap"),(function(t,e){return t.drag(e.event)}),jt("UIWrap"),jt("ImagePreview"),(function(t,e){return t.uiChange(e.event)}));t.UiMirror=function(t){function e(){var t;i(this,e),(t=dn(this,e))._trackerPoint={x:0,y:0,top:0,left:0},t._position={left:0,top:0},t.pageSize={WinW:0,WinH:0},Ke.case.install([cn]);var n=sessionStorage.getItem("MIRROR_CONFIG_STORAGE");if(n){var r=JSON.parse(n);for(var o in r)tn[o]=r[o]}return t}return y(e,t),l(e,[{key:"connectedCallback",value:function(){g(v(e.prototype),"connectedCallback",this).call(this),this.tracker(),this.pageSize=Me(),this.init(),this.resize()}},{key:"init",value:function(){this.position(tn.position),this.hyaline(tn.hyaline),this.blendMode(),this.drag({target:{value:tn.range/100}},!0),this.ImagePreview.src=tn.image.src,this.adjustImg()}},{key:"saveConfig",value:function(){sessionStorage.setItem("MIRROR_CONFIG_STORAGE",JSON.stringify(tn))}},{key:"resize",value:function(){var t=this;try{this.resizeObserver=new ResizeObserver((function(e){var n,i=un(e);try{for(i.s();!(n=i.n()).done;){var r=n.value;r.contentBoxSize&&r.contentBoxSize[0].blockSize>10&&t.UIWrap&&t.contentBoxSize()}}catch(t){i.e(t)}finally{i.f()}})),setTimeout((function(){var e;null===(e=t.resizeObserver)||void 0===e||e.observe(t.UIWrap)}),100)}catch(t){}}},{key:"contentBoxSize",value:function(){this.pageSize=Me(),tn.image.width=this.pageSize.WinW,be(this.ImagePreview)({width:this.pageSize.WinW+"px"})}},{key:"uiChange",value:function(t){switch(t.detail.type){case"hyaline":this.hyaline(t.detail.value);break;case"move":this.adjustImg();break;case"position":this.position(t.detail.value);break;case"blend":this.blendMode();break;case"upload":this.ImagePreview.src=tn.image.src;break;case"reset":this.init()}}},{key:"drag",value:function(t,e){1==tn.position?be(this.UIWrap)({width:100*t.target.value+"%"}):be(this.UIWrap)({width:100-100*t.target.value+"%"}),e&&(this.MirrorWrap.querySelectorAll(".sliderInput")[0].value=tn.range/100),tn.range=100*t.target.value}},{key:"position",value:function(t){switch(be(this.ImagePreview)({right:"",left:""}),be(this.UIWrap)({left:"auto",right:"auto",width:"auto"}),t){case 1:be(this.UIWrap)({left:0,top:0,width:tn.range+"%"}),be(this.ImagePreview)("left",0);break;case 2:be(this.UIWrap)({right:0,top:0,width:100-tn.range+"%"}),be(this.ImagePreview)("right",0)}}},{key:"hyaline",value:function(t){be(this.UIWrap)({opacity:t/100})}},{key:"blendMode",value:function(){be(this.UIWrap)({"mix-blend-mode":tn.blendMode})}},{key:"tracker",value:function(){var t=this;this._tracker=new Ce(this.ImagePreview,{start:function(e,n){n.preventDefault(),t._trackerPoint.x=e.offsetX,t._trackerPoint.y=e.offsetY;var i,r,o=(i="",r="",window.pageYOffset?(r=window.pageYOffset,i=window.pageXOffset):document.documentElement&&document.documentElement.scrollTop?(r=document.documentElement.scrollTop,i=document.documentElement.scrollLeft):document.body&&(r=document.body.scrollTop,i=document.body.scrollLeft),{X:i,Y:r});return t._trackerPoint.top=o.Y,t._trackerPoint.left=o.X,!0},end:function(t){},move:function(e,n,i){var r,o=un(n);try{for(o.s();!(r=o.n()).done;){var s=r.value;t.getPosition(s)}}catch(t){o.e(t)}finally{o.f()}}})}},{key:"adjustImg",value:function(){be(this.ImagePreview)({transform:"translate(".concat(tn.image.left,"px, ").concat(tn.image.top,"px)")})}},{key:"getPosition",value:function(t){this._position.left=t.clientX-this._trackerPoint.x+this._trackerPoint.left,this._position.top=t.clientY-this._trackerPoint.y+this._trackerPoint.top,tn.lock||(tn.image.left=this._position.left,tn.image.top=this._position.top,this.adjustImg())}}]),e}(zt),_([F],t.UiMirror.prototype,"pageSize",void 0),_([F],t.UiMirror.prototype,"MirrorWrap",void 0),_([F],t.UiMirror.prototype,"ImagePreview",void 0),_([F],t.UiMirror.prototype,"UIWrap",void 0),_([(fn=20,vn=null,function(t,e,n){var i=n.value;return n.value=function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];vn&&clearTimeout(vn),vn=setTimeout((function(){i.apply(t,n)}),fn)},n})],t.UiMirror.prototype,"contentBoxSize",null),_([Te((function(){this.saveConfig()}))],t.UiMirror.prototype,"uiChange",null),_([Te((function(){this.saveConfig()}))],t.UiMirror.prototype,"drag",null),_([Te((function(){this.saveConfig()}))],t.UiMirror.prototype,"getPosition",null),t.UiMirror=_([Lt({name:"ui-mirror",template:gn,styles:Qt})],t.UiMirror),document.body.appendChild(document.createElement("ui-mirror")),Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=bundle.umd.js.map
